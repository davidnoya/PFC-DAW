<section class="cabecera">
  <div class="titulo">
    <h1>Traslados de Cuentas</h1>
    <p>Consulta y gestiona las solicitudes realizadas</p>
  </div>
  <a href="/solicitud"><button class="nueva-btn">+ Nueva solicitud</button></a>
</section>

<section>
  <div class="filtros">
    <button [class.activo]="filtro === 'todas'" (click)="filtro = 'todas'">Todas</button>
    <button [class.activo]="filtro === 'pendientes'" (click)="filtro = 'pendientes'">Pendientes</button>
    <button [class.activo]="filtro === 'completadas'" (click)="filtro = 'completadas'">Completadas</button>
  </div>

  <div *ngFor="let solicitud of solicitudesFiltradas" class="card">
    <h4>{{ solicitud.referencia }}</h4>
    <p><strong>Fecha:</strong> {{ solicitud.fecha }} {{ solicitud.hora }}</p>
    <p><strong>Estado:</strong> {{ solicitud.estado }}</p>
    <p><strong>IBAN Nuevo:</strong> {{ solicitud.ibanNuevo }}</p>
    <button class="ver-mas-btn" (click)="verDetalles(solicitud)">Ver detalles</button>
  </div>
</section>

<div class="detalle-flotante" *ngIf="solicitudSeleccionada">
  <div class="contenido">
    <button class="cerrar" (click)="cerrarDetalles()">Ã—</button>
    <h3>Detalles de la Solicitud</h3>
    <p><strong>Referencia:</strong> {{ solicitudSeleccionada.referencia }}</p>
    <p><strong>Fecha:</strong> {{ solicitudSeleccionada.fecha }} {{ solicitudSeleccionada.hora }}</p>
    <p><strong>Estado:</strong> {{ solicitudSeleccionada.estado }}</p>
    <p><strong>Entidad Solicitante:</strong> {{ solicitudSeleccionada.entidadSolicitante }}</p>
    <p><strong>IBAN Nuevo:</strong> {{ solicitudSeleccionada.ibanNuevo }}</p>
    <p><strong>Entidad Destinataria:</strong> {{ solicitudSeleccionada.entidadDestinataria }}</p>
    <p><strong>IBAN Antiguo:</strong> {{ solicitudSeleccionada.cuentaAntigua }}</p>
    <p><strong>Titulares:</strong></p>
    <ul>
      <li *ngFor="let titular of solicitudSeleccionada.titulares">{{ titular }}</li>
    </ul>
  </div>
</div>